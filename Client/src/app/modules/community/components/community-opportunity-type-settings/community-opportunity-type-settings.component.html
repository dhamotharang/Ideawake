<div class="row">
  <div class="col-12 col-md-2">
    <app-community-navigation></app-community-navigation>
  </div>
  <div class="col-12 col-md-10">
    <div class="row">
      <div class="col-12 pl-4">
        <ul class="list-inline mb-0 pt-3">
          <li class="list-inline-item">
            <a
              class="mb-0 uppercase bold pt-1"
              routerLink="/community/container"
              >Post Types</a
            >
          </li>
          <li class="list-inline-item">
            <fa-icon
              [icon]="['fas', 'angle-right']"
              class="mr-1 ml-1 text-muted"
            ></fa-icon>
          </li>
          <li class="list-inline-item">
            <p class="mb-0 uppercase bold pt-1">
              Manage {{ opportunity?.name }}
            </p>
          </li>
        </ul>
        <hr class="mb-3" />
      </div>
    </div>
    <div class="row pt-2">
      <div class="col-12 col-md-9 pl-4">
        <ngb-tabset type="tabs">
          <ngb-tab>
            <ng-template ngbTabTitle>
              <p class="mb-0 montserrat small">
                Basic Info and Permissions
              </p>
            </ng-template>
            <ng-template ngbTabContent>
              <!-- <div class="row" style="position: relative; bottom: 3rem;"> -->
              <div class="row" style="position: relative; bottom: 2.35rem;">
                <div class="col-12 col-md-12">
                  <div class="row">
                    <div class="col-12">
                      <div class="card shadow-sm mb-3">
                        <div class="card-header">
                          <ul class="list-inline mb-0">
                            <li class="list-inline-item">
                              <p class="mb-0 bold pt-1 uppercase text-muted">
                                Basic Information
                              </p>
                            </li>
                          </ul>
                        </div>
                        <div class="card-body">
                          <!-- <p class="mb-1 montserrat uppercase bold text-medium text-muted">
                            Basic Information
                          </p> -->

                          <div class="form-row">
                            <div class="form-group col-12 mb-3">
                              <label>Post Type Title</label>
                              <input
                                type="text"
                                class="form-control"
                                [(ngModel)]="opportunity.name"
                              />
                              <div
                                [hidden]="hideError || opportunity.name !== ''"
                                class="error-txt"
                              >
                                Title is Required
                              </div>
                            </div>
                          </div>
                          <div class="form-row">
                            <div class="form-group col-12">
                              <label>Post Type Description</label>
                              <textarea
                                class="form-control"
                                rows="2"
                                [(ngModel)]="opportunity.description"
                              ></textarea>
                            </div>
                          </div>
                          <p class="uppercase bold text-medium text-muted mb-1">
                            Customize Placeholders
                          </p>
                          <div class="card bg-light mb-3">
                            <div class="card-body p-3">
                              <div class="form-row">
                                <div class="col-12 form-group mb-3">
                                  <label class="text-medium"
                                    >Title Placeholder</label
                                  >
                                  <input
                                    type="text"
                                    class="form-control form-control-sm"
                                    [(ngModel)]="opportunity.titlePlaceholder"
                                  />
                                </div>
                              </div>
                              <div class="form-row">
                                <div class="col-12 form-group mb-2">
                                  <label class="text-medium"
                                    >Description Placeholder</label
                                  >
                                  <textarea
                                    class="form-control form-control-sm"
                                    rows="2"
                                    [(ngModel)]="opportunity.descPlaceholder"
                                  ></textarea>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="form-row">
                            <div class="form-group col-6 mb-3">
                              <label>Post Type Icon</label>
                              <div ngbDropdown>
                                <span
                                  class="btn btn-light btn-block removeCaret bold text-align-left shadow-sm border py-3"
                                  ngbDropdownToggle
                                >
                                  <div class="row">
                                    <div class="col-9">
                                      <h6 class="mb-1 text-left">
                                        Opportunity Icon
                                      </h6>
                                      <p
                                        class="small mb-0 text-left text-muted"
                                      >
                                        {{ toCapital(opportunity.icon) }}
                                      </p>
                                    </div>
                                    <div class="col-3 px-0">
                                      <fa-icon
                                        [icon]="['fas', opportunity.icon]"
                                        class="text-right text-muted iconLarge"
                                      ></fa-icon>
                                    </div>
                                  </div>
                                  <!-- the current color selected -->
                                </span>
                                <div ngbDropdownMenu class="shadow p-2">
                                  <div class="form-row">
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'rocket'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'rocket']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'lightbulb'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'lightbulb']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'book-open'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'book-open']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'atom'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'atom']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'file-alt'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'file-alt']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'building'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'building']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'bolt'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'bolt']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'chart-bar'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'chart-bar']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'gem'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'gem']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'handshake'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'handshake']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'heart'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'heart']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                    <div
                                      class="col-2 mb-3"
                                      (click)="opportunity.icon = 'dna'"
                                    >
                                      <button
                                        class="btn btn-light btn-block colorSelect"
                                      >
                                        <fa-icon
                                          [icon]="['fas', 'dna']"
                                        ></fa-icon>
                                      </button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group col-6 mb-3">
                              <label>Post Type Color</label>
                              <app-color-picker
                                [color]="opportunity.color"
                                (selected)="opportunity.color = $event"
                              >
                              </app-color-picker>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <div class="card mb-3 shadow-sm">
                        <div class="card-header">
                          <ul class="list-inline mb-0">
                            <li class="list-inline-item">
                              <p class="mb-0 bold pt-1 uppercase text-muted">
                                Customize Submission Form
                              </p>
                            </li>
                          </ul>
                        </div>
                        <div class="card-body">
                          <ul class="list-inline mb-2">
                            <li class="list-inline-item">
                              <label
                                class="bold montserrat pt-1 mb-0 align-baseline"
                              >
                                Select Fields You'd Like to Collect
                              </label>
                            </li>
                            <li
                              class="list-inline-item float-right adjustFloatUp"
                            >
                              <app-custom-field-create
                                (updated)="newFieldCreated()"
                              ></app-custom-field-create>
                            </li>
                          </ul>
                          <app-custom-field-submission-form
                            [refreshList]="updateList"
                            (selectedFields)="mapOpportunityTypeFields($event)"
                            [selectedCustomFields]="selectedCustomFields"
                          ></app-custom-field-submission-form>
                        </div>
                      </div>
                      <div class="card mb-3 shadow-sm d-none">
                        <div class="card-header">
                          <ul class="list-inline mb-0">
                            <li class="list-inline-item">
                              <p class="mb-0 bold pt-1 uppercase text-muted">
                                Posting Experience and Permission Settings
                              </p>
                            </li>
                          </ul>
                        </div>
                        <div class="card-body">
                          <div class="row">
                            <div class="col-4">
                              <div
                                class="form-row dottedBottomBorder pt-2 pb-2"
                              >
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1">Posting Experience</label>
                                  <p class="small text-muted mb-2">
                                    Select where users who have permissions to
                                    add this insight type will see it in the
                                    user interface on Ideawake.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <select
                                    class="form-control"
                                    [(ngModel)]="postingExperience"
                                  >
                                    <option
                                      *ngFor="
                                        let postingExperience of postingExperiences
                                      "
                                      [value]="postingExperience.id"
                                    >
                                      {{ postingExperience.name }}</option
                                    >
                                  </select>
                                </div>
                              </div>
                            </div>
                            <div class="col-4">
                              <div
                                class="form-row dottedBottomBorder pt-2 pb-2"
                              >
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1"
                                    >Default Posting Permissions</label
                                  >
                                  <p class="small text-muted mb-2">
                                    Select the groups who can post this
                                    opportunity type by default. Note that
                                    challenge permissions will overwrite default
                                    opportunity type permissions.
                                  </p>
                                  <div class="card bg-light">
                                    <div class="card-body pb-2 pt-3">
                                      <p
                                        class="bold mb-1 text-muted uppercase small"
                                      >
                                        Select Roles, Groups, or Individuals
                                        <span class="text-dark"
                                          >(100 Users Selected)</span
                                        >
                                      </p>
                                      <app-search-groups></app-search-groups>
                                      <app-selected-access></app-selected-access>
                                    </div>
                                  </div>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <select class="form-control">
                                    <option>Public - All Users</option>
                                    <option
                                      >Private - Selected Roles or Groups will
                                      be able to see this insight</option
                                    >
                                    <option
                                      >Only Me - Only you will be able to see
                                      this insight</option
                                    >
                                  </select>
                                </div>
                              </div>
                            </div>
                            <div class="col-4">
                              <div
                                class="form-row dottedBottomBorder pt-2 pb-2"
                              >
                                <div class="form-group col-6 mb-0">
                                  <label class="mb-1"
                                    >Default Visibility Settings</label
                                  >
                                  <p class="small text-muted mb-2">
                                    Set the default for all opportunities posted
                                    under this type. Note that challenge
                                    settings will overwrite default opportunity
                                    type settings and users will be able to
                                    update this setting for each individual
                                    insight that they post.
                                  </p>
                                  <div class="card bg-light d-none">
                                    <div class="card-body pb-2 pt-3">
                                      <p
                                        class="bold mb-1 text-muted uppercase small"
                                      >
                                        Select Roles, Groups, or Individuals
                                        <span class="text-dark"
                                          >(100 Users Selected)</span
                                        >
                                      </p>
                                      <app-search-groups></app-search-groups>
                                      <app-selected-access></app-selected-access>
                                    </div>
                                  </div>
                                </div>
                                <div class="form-group col-6 mb-0">
                                  <!-- updated visibility widget -->
                                  <div class="form-row pt-2">
                                    <div class="form-group col-4 mb-2">
                                      <div
                                        class="card text-center cardAnimation shadow-sm pointer selectStakeholder active"
                                        ngbTooltip="All users who have access to the community can view submissions to this challenge."
                                      >
                                        <div class="card-body p-2">
                                          <ul class="list-unstyled text-center">
                                            <li>
                                              <fa-icon
                                                [icon]="['fas', 'eye']"
                                                class="icon iconLarge"
                                              ></fa-icon>
                                            </li>
                                            <li>
                                              <label>
                                                Public
                                              </label>
                                            </li>
                                            <li>
                                              <p class="small mb-0">
                                                5,250 Users
                                              </p>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="form-group col-4 mb-2">
                                      <div
                                        class="card text-center cardAnimation shadow-sm pointer selectStakeholder"
                                        (click)="
                                          toggleSpecificMembersStageActivity()
                                        "
                                        ngbTooltip="Only the groups you designate will be able to view submissions made to this challenge."
                                      >
                                        <div class="card-body p-2">
                                          <ul class="list-unstyled text-center">
                                            <li>
                                              <fa-icon
                                                [icon]="['fas', 'users']"
                                                class="icon iconLarge"
                                              ></fa-icon>
                                            </li>
                                            <li>
                                              <label>
                                                Specific Groups
                                              </label>
                                            </li>
                                            <li>
                                              <p class="small mb-0">
                                                5,250 Users
                                              </p>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="form-group col-4 mb-2">
                                      <div
                                        class="card text-center cardAnimation shadow-sm pointer selectStakeholder"
                                        ngbTooltip="Only Challenge Sponsor, Challenge Moderators, Owners, Team Members, and the idea submitter will be able to see this idea."
                                      >
                                        <div class="card-body p-2">
                                          <ul class="list-unstyled text-center">
                                            <li>
                                              <fa-icon
                                                [icon]="['fas', 'eye-slash']"
                                                class="icon iconLarge"
                                              ></fa-icon>
                                            </li>
                                            <li>
                                              <label>
                                                Private
                                              </label>
                                            </li>
                                            <li>
                                              <p class="small mb-0">
                                                Limited Visbility
                                              </p>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- end updated visibility widget -->
                                  <div class="form-row">
                                    <div class="form-group col-12">
                                      <div class="card bg-light mb-2">
                                        <div class="card-body">
                                          <app-select-members></app-select-members>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="card mb-3 shadow-sm">
                        <div class="card-header">
                          <ul class="list-inline mb-0">
                            <li class="list-inline-item">
                              <p class="mb-0 bold pt-1 uppercase text-muted">
                                Relationships and Duplicate Detection
                              </p>
                            </li>
                          </ul>
                        </div>
                        <div class="card-body">
                          <div class="row">
                            <div class="col-12">
                              <div class="form-row border-bottom pb-2 mx-0">
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1"
                                    >Enable Duplicate Detection</label
                                  >
                                  <p class="small text-muted mb-2">
                                    If Enabled, you will be able to select the
                                    types of post that will display as potential
                                    similar to this post type.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <div
                                    class="custom-control custom-switch mr-auto float-right"
                                  >
                                    <input
                                      type="checkbox"
                                      class="custom-control-input pointer"
                                      id="enableDupDetection"
                                      [checked]="opportunity.enableDupDetection"
                                      [(ngModel)]="
                                        opportunity.enableDupDetection
                                      "
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="enableDupDetection"
                                    >
                                      <span
                                        *ngIf="opportunity.enableDupDetection"
                                        class="pl-1"
                                        >Enabled</span
                                      >
                                      <span
                                        *ngIf="!opportunity.enableDupDetection"
                                        >Disabled</span
                                      >
                                    </label>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div
                            class="row"
                            *ngIf="opportunity.enableDupDetection"
                          >
                            <div class="col-12">
                              <div
                                class="card bg-light rounded-top-0 border-top-0"
                              >
                                <div class="card-body">
                                  <p
                                    class="uppercase mb-0 text-muted text-medium bold"
                                  >
                                    Select Post Types
                                  </p>
                                  <p class="small text-muted mb-2">
                                    The post types you select below will display
                                    as potential duplicates if they are close to
                                    the post currently being entered.
                                  </p>
                                  <div
                                    *ngFor="let oppType of existingOppTypes"
                                    class="custom-control custom-checkbox"
                                  >
                                    <input
                                      type="checkbox"
                                      class="custom-control-input"
                                      [id]="oppType.abbreviation"
                                      (change)="selectOppType($event, oppType)"
                                      [checked]="isSelectedOppType(oppType)"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      [for]="oppType.abbreviation"
                                      >{{ oppType.name }}</label
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!-- <div class="row pt-3">
                            <div class="col-12">
                              <div class="form-row border-bottom pb-2 mx-0">
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1">Enable Linking</label>
                                  <p class="small text-muted mb-2">
                                    If enabled, you will be able to select the
                                    types of post that will display as potential
                                    similar to this post type.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <div
                                    class="custom-control custom-switch mr-auto float-right"
                                  >
                                    <input
                                      type="checkbox"
                                      class="custom-control-input pointer"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="participantsTab"
                                    >
                                      <span class="pl-1">Enabled</span>
                                      <span>Disabled</span>
                                    </label>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> -->
                          <!-- <div class="row">
                            <div class="col-12">
                              <div
                                class="card bg-light rounded-top-0 border-top-0"
                              >
                                <div class="card-body">
                                  <p
                                    class="uppercase mb-0 text-muted text-medium bold"
                                  >
                                    Select Post Types
                                  </p>
                                  <p class="small text-muted mb-2">
                                    The post types you select below will display
                                    as potential duplicates if they are close to
                                    the post currently being entered.
                                  </p>
                                  <div class="custom-control custom-checkbox">
                                    <input
                                      type="checkbox"
                                      class="custom-control-input"
                                      id="idea"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="customCheck1"
                                      >Idea</label
                                    >
                                  </div>
                                  <div class="custom-control custom-checkbox">
                                    <input
                                      type="checkbox"
                                      class="custom-control-input"
                                      id="idea"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="customCheck1"
                                      >Knowledge</label
                                    >
                                  </div>
                                  <div class="custom-control custom-checkbox">
                                    <input
                                      type="checkbox"
                                      class="custom-control-input"
                                      id="idea"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="customCheck1"
                                      >Improvement</label
                                    >
                                  </div>
                                  <div class="custom-control custom-checkbox">
                                    <input
                                      type="checkbox"
                                      class="custom-control-input"
                                      id="idea"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="customCheck1"
                                      >ng for different post types</label
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> -->
                        </div>
                      </div>
                      <div class="card mb-3 shadow-sm">
                        <div class="card-header">
                          <ul class="list-inline mb-0">
                            <li class="list-inline-item">
                              <p class="mb-0 bold pt-1 uppercase text-muted">
                                Opportunity Linkage Settings
                              </p>
                            </li>
                          </ul>
                        </div>
                        <div class="card-body">
                          <div class="row">
                            <div class="col-12">
                              <div class="form-row border-bottom pb-2 mx-0">
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1"
                                    >Enable Opportunity Linkage</label
                                  >
                                  <p class="small text-muted mb-2">
                                    If Enabled, you will be able to link the
                                    opportunities from selected types of post.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <div
                                    class="custom-control custom-switch mr-auto float-right"
                                  >
                                    <input
                                      type="checkbox"
                                      class="custom-control-input pointer"
                                      id="enableLinking"
                                      [checked]="opportunity.enableLinking"
                                      [(ngModel)]="opportunity.enableLinking"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="enableLinking"
                                    >
                                      <span
                                        *ngIf="opportunity.enableLinking"
                                        class="pl-1"
                                        >Enabled</span
                                      >
                                      <span *ngIf="!opportunity.enableLinking"
                                        >Disabled</span
                                      >
                                    </label>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row" *ngIf="opportunity.enableLinking">
                            <div class="col-12">
                              <div
                                class="card bg-light rounded-top-0 border-top-0"
                              >
                                <div class="card-body">
                                  <p
                                    class="uppercase mb-0 text-muted text-medium bold"
                                  >
                                    Select Post Types
                                  </p>
                                  <p class="small text-muted mb-2">
                                    Opportunties from post types selected below
                                    will display as potential options if you
                                    want to link them with your opportunity.
                                  </p>
                                  <div
                                    *ngFor="let oppType of existingOppTypes"
                                    class="custom-control custom-checkbox"
                                  >
                                    <input
                                      type="checkbox"
                                      class="custom-control-input"
                                      [id]="
                                        'enableLinking_' + oppType.abbreviation
                                      "
                                      (change)="
                                        selectLinkageOppType($event, oppType)
                                      "
                                      [checked]="
                                        isSelectedLinkageOppType(oppType)
                                      "
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      [for]="
                                        'enableLinking_' + oppType.abbreviation
                                      "
                                      >{{ oppType.name }}</label
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="card mb-3 shadow-sm">
                        <div class="card-header">
                          <ul class="list-inline mb-0">
                            <li class="list-inline-item">
                              <p class="mb-0 bold pt-1 uppercase text-muted">
                                Post Type Settings
                              </p>
                            </li>
                          </ul>
                        </div>
                        <div class="card-body pb-2">
                          <div class="row">
                            <div class="col-12">
                              <div class="form-row dottedBottomBorder pb-2">
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1"
                                    >Opportunity Type Enabled</label
                                  >
                                  <p class="small text-muted mb-2">
                                    If Enabled, users will be able to post new
                                    submissions under this opportunity type.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <div
                                    class="custom-control custom-switch mr-auto float-right"
                                  >
                                    <input
                                      type="checkbox"
                                      class="custom-control-input pointer"
                                      id="participantsTab"
                                      [(ngModel)]="opportunity.isEnabled"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="participantsTab"
                                    >
                                      <span
                                        *ngIf="opportunity.isEnabled"
                                        class="pl-1"
                                        >Enabled</span
                                      >
                                      <span *ngIf="!opportunity.isEnabled"
                                        >Disabled</span
                                      >
                                    </label>
                                  </div>
                                </div>
                              </div>
                              <!-- <div class="form-row dottedBottomBorder pt-2 pb-2">
                                                      <div class="form-group col-8 mb-0">
                                                        <label class="mb-1"
                                                          >Populate Opportunity Type with External Data</label
                                                        >
                                                        <p class="small text-muted mb-2">
                                                          Automatically pull in data from external API's.
                                                        </p>
                                                      </div>
                                                      <div class="form-group col-4 mb-0">
                                                        <div
                                                          class="custom-control custom-switch mr-auto float-right"
                                                        >
                                                          <input
                                                            type="checkbox"
                                                            class="custom-control-input pointer"
                                                            id="populate"
                                                          />
                                                          <label class="custom-control-label" for="populate"
                                                            >Enabled</label
                                                          >
                                                        </div>
                                                      </div>
                                                    </div> -->
                              <!-- if populate opp type -->
                              <!-- <div class="form-row">
                                                      <div class="col-12">
                                                        <div class="card bg-light border-top-0">
                                                          <div class="card-body">
                                                            want to be able to autopopulate this opportunity
                                                            type with different data sources like crunchbase,
                                                            newsly, etc.
                                                          </div>
                                                        </div>
                                                      </div>
                                                    </div> -->
                              <!-- if populate opp type -->
                              <!-- <div class="form-row dottedBottomBorder pt-2 pb-2">
                                                      <div class="form-group col-8 mb-0">
                                                        <label class="mb-1">List Page Visibility</label>
                                                        <p class="small text-muted mb-2">
                                                          Automatically pull in data from external API's.
                                                        </p>
                                                      </div>
                                                      <div class="form-group col-4 mb-0">
                                                        <div
                                                          class="custom-control custom-switch mr-auto float-right"
                                                        >
                                                          <input
                                                            type="checkbox"
                                                            class="custom-control-input pointer"
                                                            id="listVisibility"
                                                          />
                                                          <label
                                                            class="custom-control-label"
                                                            for="listVisibility"
                                                            >Enabled</label
                                                          >
                                                        </div>
                                                      </div>
                                                    </div> -->
                              <!-- <div
                                class="form-row dottedBottomBorder pt-2 pb-2"
                              >
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1">Statuses</label>
                                  <p class="small text-muted mb-2">
                                    Enable and disable statuses for this
                                    opportunity type.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <div
                                    class="custom-control custom-switch mr-auto float-right"
                                  >
                                    <input
                                      type="checkbox"
                                      class="custom-control-input pointer"
                                      id="status"
                                    />
                                    <label
                                      class="custom-control-label font-weight-normal"
                                      for="status"
                                      >Enabled</label
                                    >
                                  </div>
                                </div>
                              </div> -->
                              <div class="form-row pt-3 pb-2">
                                <div class="form-group col-5 mb-0">
                                  <label class="mb-1"
                                    >Select Default Workflow</label
                                  >
                                  <p class="small text-muted mb-2">
                                    Select the default workflow that this
                                    opportunity type should be added to.
                                  </p>
                                </div>
                                <div class="form-group col-7 mb-0 mt-3">
                                  <app-workflow-select
                                    [entity]="opportunity"
                                    (workflow)="workflowSelected = $event"
                                  ></app-workflow-select>
                                </div>
                              </div>
                              <!-- <div class="form-row dottedBottomBorder pt-2 pb-2">
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1">Detect Duplicates During Submission</label>
                                  <p class="small text-muted mb-2">
                                    If a user submits an opportunity outside of a
                                    challenge, it will detect duplicates during
                                    submission.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <div class="custom-control custom-switch mr-auto float-right">
                                    <input type="checkbox" class="custom-control-input pointer" id="status" />
                                    <label class="custom-control-label" for="status">Enabled</label>
                                  </div>
                                </div>
                              </div> -->
                              <!-- <div class="form-row dottedBottomBorder pt-2 pb-2">
                                <div class="form-group col-8 mb-0">
                                  <label class="mb-1">Include this Opportunity Type in Duplicate
                                    Detection</label>
                                  <p class="small text-muted mb-2">
                                    Include submissions of this opportunity type in
                                    duplicate detection during opportunity submission.
                                  </p>
                                </div>
                                <div class="form-group col-4 mb-0">
                                  <div class="custom-control custom-switch mr-auto float-right">
                                    <input type="checkbox" class="custom-control-input pointer" id="status" />
                                    <label class="custom-control-label" for="status">Enabled</label>
                                  </div>
                                </div>
                              </div> -->
                              <!-- <div class="form-row dottedBottomBorder pt-2 pb-2">
                                                                  <div class="form-group col-8 mb-0">
                                                                    <label class="mb-1">Who Can Edit</label>
                                                                    <p class="small text-muted mb-2">
                                                                      Set the default for all insights posted with
                                                                      this type. Note that users will be able to
                                                                      update this setting for each individual
                                                                      insight that they post.
                                                                    </p>
                                                                    <div class="card bg-light d-none">
                                                                      <div class="card-body pb-2 pt-3">
                                                                        <p
                                                                          class="bold mb-1 text-muted uppercase small"
                                                                        >
                                                                          Select Roles, Groups, or Individuals
                                                                          <span class="text-dark"
                                                                            >(100 Users Selected)</span
                                                                          >
                                                                        </p>
                                                                        <app-search-groups></app-search-groups>
                                                                        <app-selected-access></app-selected-access>
                                                                      </div>
                                                                    </div>
                                                                  </div>
                                                                  <div class="form-group col-4 mb-0">
                                                                    <select class="form-control">
                                                                      <option>Public - All Users</option>
                                                                      <option
                                                                        >Private - Selected Roles or Groups will be
                                                                        able to see this insight</option
                                                                      >
                                                                      <option
                                                                        >Only Me - Only you will be able to see this
                                                                        insight</option
                                                                      >
                                                                    </select>
                                                                  </div>
                                                                </div> -->
                              <!-- <div class="form-row dottedBottomBorder pt-2 pb-2">
                                                                  <div class="form-group col-8 mb-0">
                                                                    <label class="mb-1">Who Can Delete</label>
                                                                    <p class="small text-muted mb-2">
                                                                      Set the default for all insights posted with
                                                                      this type. Note that users will be able to
                                                                      update this setting for each individual
                                                                      insight that they post.
                                                                    </p>
                                                                    <div class="card bg-light d-none">
                                                                      <div class="card-body pb-2 pt-3">
                                                                        <p
                                                                          class="bold mb-1 text-muted uppercase small"
                                                                        >
                                                                          Select Roles, Groups, or Individuals
                                                                          <span class="text-dark"
                                                                            >(100 Users Selected)</span
                                                                          >
                                                                        </p>
                                                                        <app-search-groups></app-search-groups>
                                                                        <app-selected-access></app-selected-access>
                                                                      </div>
                                                                    </div>
                                                                  </div>
                                                                  <div class="form-group col-4 mb-0">
                                                                    <select class="form-control">
                                                                      <option>Public - All Users</option>
                                                                      <option
                                                                        >Private - Selected Roles, Groups, or
                                                                        Individuals will be able to see this
                                                                        insight</option
                                                                      >
                                                                      <option
                                                                        >Only Me - Only you will be able to see this
                                                                        insight</option
                                                                      >
                                                                    </select>
                                                                  </div>
                                                                </div> -->
                            </div>
                          </div>
                        </div>
                      </div>
                      <app-community-opportunity-type-permissions
                        [opportunityId]="opportunity.id"
                        (settings)="visibilityAndPermissionSettings = $event"
                      ></app-community-opportunity-type-permissions>
                      <div class="card mb-5 rounded-top-0 border-top-0">
                        <div class="card-footer">
                          <div class="float-right">
                            <button
                              class="btn btn-light border mr-2"
                              routerLink="/community/container"
                            >
                              Cancel
                            </button>
                            <button
                              class="btn btn-primary"
                              [disabled]="isDisabled"
                              (click)="editOpportunity()"
                            >
                              Save Changes
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <h5
                    class="mb-2 pb-2 border-bottom montserrat uppercase text-medium text-muted bold"
                  >
                    Rules
                  </h5>
                  insert rules list here, biggest rule is default adding an
                  opportunity to a workflow
                  <app-rules-list></app-rules-list> -->
                </div>
              </div>
            </ng-template>
          </ngb-tab>
          <!-- <ngb-tab>
            <ng-template ngbTabTitle>Page Sections & Layout</ng-template>
            <ng-template ngbTabContent>
              <div class="card mb-4">
                <div class="card-body">
                  <div class="row">
                    <div class="col-7">
                      <p class="mb-1 uppercase bold text-muted montserrat">Add New Fields</p>
                      <app-search-fields></app-search-fields>
                    </div>
                  </div>
                  <hr class="my-3">
                  <div class="row">
                    <div class="col-7">

                      <div class="row">
                        <div class="col-12">
                          <div class="row pt-3">
                            <div class="col-12">
                              <div class="card mb-3 bg-light">
                                <div class="card-header pb-1 px-3">
                                  <div class="media">
                                    <fa-icon [icon]="['fas', 'grip-vertical']" class="mr-2 moveOnHover" placement="left"
                                      ngbTooltip="Click and drag to move this section"></fa-icon>
                                    <div class="media-body">
                                      <ul class="list-inline mb-0">
                                        <li class="list-inline-item">
                                          <p class="mb-1 uppercase bold text-muted montserrat">About This Idea</p>
                                        </li>
                                        <li class="list-inline-item float-right adjustFloatUp">
                                          <span class="inverseLinkDanger text-medium">
                                            <fa-icon [icon]="['fas', 'trash']"></fa-icon> Remove Section
                                          </span>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                                <div class="card-body px-2">
                                  <app-fields-list></app-fields-list>
                                  <app-fields-list></app-fields-list>
                                  <app-fields-list></app-fields-list>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group mb-0">
                        <div class="featuredImageContainer">
                          <ul class="list-unstyled pt-2">
                            <li>
                              <p class="text-muted text-medium mt-1 mb-0">
                                Add New Field Group Here
                              </p>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="col-5">
                      <div class="row pt-3">
                        <div class="col-12">
                          <div class="card mb-3 bg-light">
                            <div class="card-header pb-1 px-3">
                              <div class="media">
                                <fa-icon [icon]="['fas', 'grip-vertical']" class="mr-2 moveOnHover" placement="left"
                                  ngbTooltip="Click and drag to move this section"></fa-icon>
                                <div class="media-body">
                                  <ul class="list-inline mb-0">
                                    <li class="list-inline-item">
                                      <p class="mb-1 uppercase bold text-muted montserrat">More About This Idea</p>
                                    </li>
                                    <li class="list-inline-item float-right adjustFloatUp">
                                      <span class="inverseLinkDanger text-medium">
                                        <fa-icon [icon]="['fas', 'trash']"></fa-icon> Remove Section
                                      </span>
                                    </li>
                                  </ul>
                                </div>
                              </div>
                            </div>
                            <div class="card-body px-2">
                              <app-fields-list></app-fields-list>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group mb-0">
                        <div class="featuredImageContainer">
                          <ul class="list-unstyled pt-2">
                            <li>
                              <p class="text-muted text-medium mt-1 mb-0">
                                Add New Field Group Here
                              </p>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="row pt-3">
                        <div class="col-12">
                          <div class="card mb-3 bg-light">
                            <div class="card-header pb-1 px-3">
                              <div class="media">
                                <fa-icon [icon]="['fas', 'grip-vertical']" class="mr-2 moveOnHover" placement="left"
                                  ngbTooltip="Click and drag to move this section"></fa-icon>
                                <div class="media-body">
                                  <ul class="list-inline mb-0">
                                    <li class="list-inline-item">
                                      <p class="mb-1 uppercase bold text-muted montserrat">People and Stakeholders</p>
                                    </li>
                                    <li class="list-inline-item float-right adjustFloatUp">
                                      <span class="inverseLinkDanger text-medium">
                                        <fa-icon [icon]="['fas', 'trash']"></fa-icon> Remove Section
                                      </span>
                                    </li>
                                  </ul>
                                </div>
                              </div>
                            </div>
                            <div class="card-body px-2">
                              <app-fields-list></app-fields-list>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group mb-0">
                        <div class="featuredImageContainer">
                          <ul class="list-unstyled pt-2">
                            <li>
                              <p class="text-muted text-medium mt-1 mb-0">
                                Add New Field Group Here
                              </p>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </ngb-tab> -->
          <!--           <ngb-tab>
            <ng-template ngbTabTitle>
              <p class="mb-0 montserrat small">
                Ownership, Team, and Submitter Settings
              </p>
            </ng-template>
            <ng-template ngbTabContent>
              <app-community-opportunity-type-permissions
                [opportunityId]="opportunity.id"
              ></app-community-opportunity-type-permissions>
            </ng-template>
          </ngb-tab> -->
          <!-- <ngb-tab>
            <ng-template ngbTabTitle>Integrations</ng-template>
            <ng-template ngbTabContent>
              <div class="row mt-3">
                <div class="col-12">
                  <div class="row">

                    <div class="col-4">
                      <div class="card cardAnimation pointer shadow-sm">
                        <div class="card-body">
                          <img
                            class="integrationImage"
                            src="https://cdn2.hubspot.net/hubfs/521324/App-Icon-1200x1200-zapier.png"
                          />
                          <h5>Zapier</h5>
                          <p class="text-medium mb-0">
                            This is the description of the integration this is a
                            description of the integration
                          </p>
                          <ul class="list-inline mb-0 mt-2">
                            <li class="list-inline-item">
                              <button class="btn btn-primary btn-sm">
                                Install Integration
                              </button>
                              <button class="btn btn-light border btn-sm">
                                <fa-icon
                                  [icon]="['fas', 'check-circle']"
                                ></fa-icon>
                                Installed
                              </button>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <div class="col-4">
                      <div class="card cardAnimation pointer shadow-sm">
                        <div class="card-body">
                          <img
                            class="integrationImage"
                            src="https://i.pcmag.com/imagery/reviews/05Jidi9HqQuegaS1lFvCADR-19.fit_scale.size_1028x578.v_1569892613.jpg"
                          />
                          <h5>Microsoft Teams</h5>
                          <p class="text-medium mb-0">
                            This is the description of the integration this is a
                            description of the integration
                          </p>
                          <ul class="list-inline mb-0 mt-2">
                            <li class="list-inline-item">
                              <button class="btn btn-primary btn-sm">
                                Install Integration
                              </button>
                              <button class="btn btn-light border btn-sm">
                                <fa-icon
                                  [icon]="['fas', 'check-circle']"
                                ></fa-icon>
                                Installed
                              </button>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <div class="col-4">
                      <div class="card cardAnimation pointer shadow-sm">
                        <div class="card-body">
                          <img
                            class="integrationImage"
                            src="https://cdn.mos.cms.futurecdn.net/SDDw7CnuoUGax6x9mTo7dd.jpg"
                          />
                          <h5>Slack</h5>
                          <p class="text-medium mb-0">
                            This is the description of the integration this is a
                            description of the integration
                          </p>
                          <ul class="list-inline mb-0 mt-2">
                            <li class="list-inline-item">
                              <button class="btn btn-primary btn-sm">
                                Install Integration
                              </button>
                              <button class="btn btn-light border btn-sm">
                                <fa-icon
                                  [icon]="['fas', 'check-circle']"
                                ></fa-icon>
                                Installed
                              </button>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </ngb-tab> -->
        </ngb-tabset>
      </div>
    </div>
  </div>
</div>

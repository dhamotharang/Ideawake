<div class="h-100 container-fluid px-0">
  <div class="row">
    <div class="col-12">
      <div class="row">
        <div
          class="leftWidth px-0"
          style="max-height: 91vh; overflow-y: auto; overflow-x: hidden;"
        >
          <div
            class="card rounded-0 h-100 shadow bg-transparent border-top-0 border-right-0"
            style="max-height: 91vh; overflow-y: auto; overflow-x: hidden;"
          >
            <div
              class="card-header bg-white p-0 border-right-0 border-top-0 border-bottom-0"
            >
              <div class="row">
                <div class="col-12">
                  <div class="btn-group btn-block btn-group-xs" role="group">
                    <button
                      (click)="changeStatus(ActionItemLogStatus.OPEN)"
                      type="button"
                      class="btn py-3 btn-white"
                      [ngClass]="{
                        active: status === ActionItemLogStatus.OPEN
                      }"
                    >
                      {{ 'SharedText.Open' | translationPipe }}
                      ({{ itemsStatusCount?.open || 0 }})
                    </button>
                    <button
                      (click)="changeStatus(ActionItemLogStatus.COMPLETE)"
                      type="button"
                      class="btn btn-white"
                      [ngClass]="{
                        active: status === ActionItemLogStatus.COMPLETE
                      }"
                    >
                      {{ 'SharedText.Completed' | translationPipe }}
                      ({{ itemsStatusCount?.complete || 0 }})
                    </button>
                    <button
                      (click)="changeStatus(ActionItemLogStatus.INCOMPLETE)"
                      type="button"
                      class="btn btn-white"
                      [ngClass]="{
                        active: status === ActionItemLogStatus.INCOMPLETE
                      }"
                    >
                      {{ 'SharedText.Incomplete' | translationPipe }}
                      ({{ itemsStatusCount?.incomplete || 0 }})
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-body p-0 border-right">
              <div class="row">
                <div class="col-12">
                  <table class="table small mb-0">
                    <thead class="border-right-0 border-bottom-0">
                      <tr class="bg-transparent">
                        <th scope="col" class="border-bottom-0">
                          #
                        </th>
                        <th scope="col" class="pl-0 border-bottom-0">
                          {{ 'SharedText.Title' | translationPipe }}
                        </th>
                        <th scope="col" class="border-bottom-0">
                          {{ 'SharedText.Action' | translationPipe }}
                        </th>
                        <!-- <th scope="col" class="border-bottom-0">
                          {{ 'SharedText.Score' | translationPipe }}
                        </th> -->
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="let item of itemsList"
                        class="addHover"
                        [ngClass]="{
                          'active-row': item.entityObjectId == ideaId
                        }"
                        (click)="changeIdea(item.entityObjectId)"
                      >
                        <th scope="row">{{ item.entityObjectId }}</th>
                        <td class="pl-0">
                          {{ item.entityTitle | slice: 0:15
                          }}<span *ngIf="item.entityTitle.length > 15">..</span>
                        </td>
                        <td>{{ item.actionItemTitle }}</td>
                        <!-- <td>
                          {{ getScoreOfOpportunity(item.entityObjectId) }}
                        </td> -->
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- class="col-9 bg-light-gray px-0" -->
        <div
          *ngIf="ideaId"
          class="rightWidth bg-light-gray px-0"
          style="max-height: 91vh; overflow-y: auto; overflow-x: hidden;"
        >
          <div class="row">
            <div class="col-12 px-0">
              <div
                class="alert d-none mb-0 bg-white border-right-0 border-left-0 border-top-0 dottedBottomBorder rounded-0"
                style="padding-top: 9px; padding-bottom: 9px;"
              >
                <div class="row small">
                  <div class="col-12">
                    <p class="mb-0 ml-4 text-muted">
                      {{ 'SharedText.MyActionItems' | translationPipe }}
                      <span *ngIf="breadcrumb">/ {{ breadcrumb }}</span>
                      <!-- - If not associated with a challenge just show by tool type (ie: all assigned reviews) -->
                    </p>
                    <!-- <p class="mb-0">
                      Action Items / <span class="link underline">Challenge Name Here</span> / Reviews - If associated with challenge, show and track the challenge the action item is associated with
                    </p> -->
                  </div>
                  <!-- <div class="col-4">
                    <a class="float-right" href="#">Action Items Manager</a>
                  </div> -->
                </div>
              </div>
            </div>
          </div>
          <app-idea-summary
            [ideaId]="ideaId"
            [switchStageTab]="status === 'open' ? true : false"
          ></app-idea-summary>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-header px-3 card-header border-bottom-0 bg-white">
  <ul class="list-inline mb-2">
    <li class="list-inline-item">
      <span
        class="badge badge-light border badgePadding"
        *ngIf="announcement?.status == 'draft'"
        >Draft</span
      >
      <span
        class="badge badge-info badgePadding"
        *ngIf="announcement?.status == 'scheduled'"
        >Scheduled</span
      >
      <span
        class="badge badge-success badgePadding"
        *ngIf="announcement?.status == 'sent'"
        >Sent</span
      >
    </li>
    <!-- <li
      class="list-inline-item float-right adjustFloatUp"
      ngbDropdown
      style="position: absolute; right: 20px; top: 8px;"
    >
      <fa-icon
        [icon]="['fas', 'ellipsis-v']"
        class="text-muted iconLarge removeCaret pointer"
        ngbDropdownToggle
      ></fa-icon>
      <div ngbDropdownMenu>
        <button
          *ngIf="level == 'challenge' && announcement?.status != 'sent'"
          (click)="dismissModal()"
          routerLink="/challenges/post-update/{{ entityObjectId }}/edit/{{
            announcement?.id
          }}"
          ngbDropdownItem
        >
          Edit Update
        </button>
        <button
          *ngIf="level == 'community' && announcement?.status != 'sent'"
          (click)="dismissModal()"
          routerLink="/community/post-update/edit/{{ announcement?.id }}"
          ngbDropdownItem
        >
          Edit Update
        </button>
        <button ngbDropdownItem (click)="open(deleteUpdate, announcement?.id)">
          Archive Update
        </button>
      </div>
    </li> -->
  </ul>
  <button
    type="button"
    class="close"
    aria-label="Close"
    (click)="dismissModal()"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body pt-0 modalScrollMaxHeight">
  <div class="row">
    <div class="col-12">
      <h4 class="bold mb-2">{{ announcement?.title }}</h4>
      <ul class="list-inline mb-3">
        <!-- <li class="list-inline-item mb-0">
            <p class="text-medium mb-0 text-muted">
              <fa-icon [icon]="['fas', 'globe']"></fa-icon>
              Shared with All Participants
            </p>
          </li> -->
        <li class="list-inline-item mb-0">
          <p class="text-medium mb-0 text-muted">
            <fa-icon [icon]="['fas', 'eye']"></fa-icon>
            {{ announcement?.viewCount }} view(s)
          </p>
        </li>
        <li class="list-inline-item mb-0">
          <p
            class="text-medium mb-0 text-muted"
            *ngIf="announcement?.targeting?.challengeParticipants"
          >
            <fa-icon [icon]="['fas', 'globe']"></fa-icon>
            Shared with All Participants
          </p>
          <p
            class="text-medium mb-0 text-muted"
            *ngIf="!announcement?.targeting?.challengeParticipants"
          >
            <fa-icon [icon]="['fas', 'globe']"></fa-icon>
            Shared with Some Participants
          </p>
        </li>
        <li class="list-inline-item mb-0">
          <p class="text-medium mb-0 text-muted">
            <fa-icon [icon]="['fas', 'clock']"></fa-icon>
            Posted by {{ announcement?.poster?.firstName }}
            {{ announcement?.poster?.lastName }} on
            {{ announcement?.scheduledAt | date: 'short' }}
          </p>
        </li>
      </ul>
      <p [innerHTML]="announcement?.message"></p>
      <app-media-feature
        [openModal]="true"
        [files]="announcement?.attachments"
      ></app-media-feature>
    </div>
  </div>
</div>
<div class="modal-footer border-top-0">
  <button class="btn btn-light border" (click)="dismissModal()">
    Close Update
  </button>
</div>

<!-- <ng-template #deleteUpdate let-modal>
  <div class="modal-header card-header bg-info">
    <p class="uppercase bold text-white mb-0 small">
      Archive This Update
    </p>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p class="">
      Are you sure you would like to archive this update?
    </p>
  </div>
  <div class="modal-footer bg-light">
    <button class="btn btn-light border" (click)="modal.dismiss('Archive')">
      Cancel
    </button>
    <button
      class="btn btn-info"
      (click)="archiveUpdate(); modal.dismiss('Archive')"
    >
      Yes, Archive This Update
    </button>
  </div>
</ng-template> -->
